<html>

<head>
    <title> Week 11 Practice
    </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>
    //--<script src="sketch.js"></script>//
    <script>
        var characterX = 400;
        var characterY = 400;

        var myDiameters = [];
        //key values
        var w = 87;
        var s = 83;
        var a = 65;
        var d = 68;
        //evil greenie
        var shapeX = 150;
        var shapeY = 150;

		var shapeXs = [];
		var shapeYs = [];
		var diameters = [];

        var shapeXSpeeds = [];
        var shapeYSpeeds = [];
        //evil square
        var squarex = 20;
        var squarey = 40;
        var squarexspeed;
        var squareyspeed;
        //for unmoving obstacle
        var mousex = 0;
        var mousey = 0;
        var x = 200;
        var y = 200;
        var diameter = 80;

        function setup() {
            createCanvas(500, 600);
		for (var i =0; i < 50; i++){
            //random speed
            shapeXSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 6)) + 1);
            shapeYSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 6)) + 1);
            shapeXs[i] = getRandomNumber(500);
			shapeYs[i] = getRandomNumber(600);
			diameters[i] = getRandomNumber(30);
            }
		createCharacter(200,350);

        }

        function draw() {
            background(70, 20, 101);
            stroke(0);
            fill(0);

            
            //call createBorders
            createBorders(20);

            //exit
            textSize(16);
            text("This way to live!", width - 150, height - 50)

            //createCharacter(400,400);
            drawHero();
            heroMovement();

            //callcallGreenie
            callGreenie();

            //callEsquare
            callEsquare();



            /////////////////added the lines from below //////////////////



            //unmoving enemy
            fill(150, 200, 150);
            circle(x, y, diameter);


            ellipse(mousex, mousey, 30, 40);



            if (characterX > width && characterY > width - 50) {
                fill(0);
                stroke(50);
                textSize(30);
                text("You survived!", width / 2 - 50, height / 2 - 50);
            }

            //unmoving enemy
            fill(150, 200, 150);
            circle(x, y, diameter);


            ellipse(mousex, mousey, 30, 40);




        }

        //} /////////////////////////////////////////
        // this closes the draw function

        function keyPressed() {
            if (key == 'd') {
                x += 10;
            } else if (key == 'a') {
                x -= 10;
            }
        }

        function mouseClicked() {
            mousex = mouseX;
            mousey = mouseY;

        }

        function heroMovement() {
            //  hero movement
            if (keyIsDown(w)) {
                characterY -= 10;
            }
            if (keyIsDown(s)) {
                characterY += 10;
            }
            if (keyIsDown(a)) {
                characterX -= 10;
            }
            if (keyIsDown(d)) {
                characterX += 10;
            }
        }
            function createCharacter(x, y) {
                characterX = x;
                characterY = y;
                console.log(characterX);

            }

            function drawHero() {
                //hero
                fill(90, 90, 90);
                square(characterX, characterY, 40);
            }

            function createBorders(thickness) {
                // t border
                rect(0, 0, width, thickness);
                // l border
                rect(0, 0, thickness, height);
                // b border
                rect(0, height - thickness, width, thickness);
                // r border
                rect(width - thickness, 0, thickness, height - 80);
            }



            function keyPressed() {
                if (keyCode === LEFT_ARROW) {
                    characterX -= 10;
                } else if (keyCode === RIGHT_ARROW) {
                    characterX += 10;
                } else if (keyCode === UP_ARROW) {
                    characterY -= 10;
                } else if (keyCode === DOWN_ARROW) {
                    characterY += 10;
                }
            }
                function callGreenie() {
				// evil greenie
			for (var i = 0; i < shapeXs.length; i++) {
            fill(0, 0, 100);
            circle(shapeXs[i], shapeYs[i], diameters[i]);

            // random speed
            shapeXSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 12)) + 1);
            shapeYSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 12)) + 1);

            // movement
            shapeXs[i] += shapeXSpeeds[i];
            shapeYs[i] += shapeYSpeeds[i];
            // boundary check
            if (shapeXs[i] > width) {
                shapeXs[i] = 0;
            }
            if (shapeXs[i] < 0) {
                shapeXs[i] = width;
            }
            if (shapeYs[i] > height) {
                shapeYs[i] = 0;
            }
            if (shapeYs[i] < 0) {
                shapeYs[i] = height;
            }
                }
				}

            function callEsquare()  {
			// evil square
                   fill(13, 145, 14);{
				   for (var i = 0; i < shapeXs.length; i++)
                   square(shapeXs[i], shapeYs[i],diameters[i]);

                        //random speed
                        shapeXSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 3)) + 2);
                        shapeYSpeeds[i] = Math.floor(Math.random() * (Math.floor(Math.random() * 3)) + 2);

                        // movement
                        shapeXs[i] += shapeXSpeeds[i];
						shapeYs[i] += shapeYSpeeds[i];
                        // boundary check
                        if (shapeXs[i] > width) {
                            shapeXs[i] = 0;
                        }
                        if (shapeXs[i] < 0) {
                            shapeXs[i] = width;
                        }
                        if (shapeYs[i] > height) {
                            shapeYs[i] = 0;
                        }
                        if (shapeYs[i] < 0) {
                            shapeYs[i] = height;
                        }

                    }
					}
			function getRandomNumber(number){
			 return Math.floor(Math.random() * number) + 10;
			 }

    </script>

</head>

<body>
</body>

</html>
